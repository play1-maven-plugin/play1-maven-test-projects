language: java

services:
  - mongodb
  - redis-server

cache:
  directories:
    - $HOME/.m2

install:
  - java -XX:+PrintFlagsFinal -version
  - mvn --version
  - mongod --version

before_script:
  - export MAVEN_OPTS="-Xms512m -Xmx1024m -XX:PermSize=64m -XX:MaxPermSize=256m"

script:
  - mvn verify -Dplay.seleniumSkip -Dplay.dependenciesSkipJars -Pautodeps,dist,play13,with-external-modules --update-snapshots --settings .travis.settings.xml -X --file ./packagings/dist/using-play-dist/no-dependencies/pom.xml

jdk: oraclejdk7
